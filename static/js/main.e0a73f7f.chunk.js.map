{"version":3,"sources":["components/App/App.js","index.js"],"names":["FunctionBtn","player","handleResetPiece","gameResult","className","onClick","Board","handleChangePlayer","updateBoard","x","y","piece","pieceStyle","judge","e","App","board","Array","fill","useState","setPiece","setPlayer","setGameResult","useCallback","newValue","map","row","currentY","col","currentX","win","i","document","querySelector","classList","remove","add","MemoBoard","memo","array","value","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e0a73f7f.chunk.js","sourcesContent":["import React, {\n  useState,\n  memo,\n  useCallback,\n} from \"react\";\nimport \"./App.css\";\n\nfunction FunctionBtn({ player, handleResetPiece, gameResult }) {\n  return (\n    <div className=\"top-bar\">\n      <div className=\"function-btn\">\n        <h2>下一位：{player == \"black\" ? \"黑子\" : \"白子\"}</h2>\n        <div className=\"step-btn\">\n          <span className=\"btn last-btn\">上一步</span>\n          <span className=\"btn next-btn\">下一步</span>\n        </div>\n        <div\n          className=\"btn restart-btn\"\n          onClick={() => {\n            handleResetPiece();\n          }}\n        >\n          重新一局\n        </div>\n      </div>\n      <h1 className=\"game-result hidden\">Winner is: {gameResult} Player</h1>\n    </div>\n  );\n}\n\nfunction Board({\n  handleChangePlayer,\n  updateBoard,\n  player,\n  x,\n  y,\n  piece,\n  pieceStyle,\n  judge,\n  gameResult,\n}) {\n  return (\n    <div\n      onClick={(e) => {\n        if (gameResult == \"\") {\n          if (pieceStyle == \"\") {\n            handleChangePlayer();\n            updateBoard(x, y, player);\n            // console.log(nowContent)\n          }\n          judge(player, piece, x, y);\n        }\n      }}\n      className={`piece ${pieceStyle}`}\n      x={x}\n      y={y}\n    ></div>\n  );\n}\n\nfunction App() {\n  const board = Array(18).fill(Array(18).fill(\"\"));\n  const [piece, setPiece] = useState(Array(19).fill(Array(19).fill(\"\")));\n  const [player, setPlayer] = useState(\"black\");\n  const [gameResult, setGameResult] = useState(\"\");\n\n  const handleChangePlayer = useCallback(() => {\n    setPlayer(() => {\n      return player == \"black\" ? \"white\" : \"black\";\n    });\n  }, [player]);\n\n  const updateBoard = useCallback(\n    (x, y, newValue) => {\n      setPiece(\n        piece.map((row, currentY) => {\n          // 如果這一個橫排不是我要改的，直接回傳即可\n          if (currentY !== y) return row;\n          // 如果是的話，找到我要改的那個 x 的位置\n          return row.map((col, currentX) => {\n            if (currentX !== x) return col;\n            return newValue;\n          });\n        })\n      );\n    },\n    [piece]\n  );\n  // 判斷勝法 ---------------------------------------------------------------------------\n  \n  const judge = useCallback(\n    \n    (player, piece, x, y) => {\n      // 橫線贏法\n      let win = 0;\n      for (let i = 1; i < 6; i++) {\n        if(x+i > 18) {\n          break;\n        }\n        if (piece[y][x + i] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n      for (let i = 1; i < 6; i++) {\n        if(x-i < 0) {\n          break;\n        }\n        if (piece[y][x - i] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          win = 0;\n          break;\n        }\n      }\n\n      // 豎線贏法\n\n      for (let i = 1; i < 6; i++) {\n        if(y+i > 18) {\n          break;\n        }\n        if (piece[y + i][x] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n      for (let i = 1; i < 6; i++) {\n        if(y-i < 0) {\n          break;\n        }\n        if (piece[y - i][x] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          win = 0;\n          break;\n        }\n      }\n\n      // 正斜線贏法\n\n      for (let i = 1; i < 6; i++) {\n        if(x + i > 18 || y - i <0) {\n          break;\n        }\n        if (piece[y - i][x + i] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n      for (let i = 1; i < 6; i++) {\n        if(y + i > 18 || x - i < 0) {\n          break;\n        }\n        if (piece[y + i][x - i] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          win = 0;\n          break;\n        }\n      }\n      // 反斜線贏法\n\n      for (let i = 1; i < 6; i++) {\n        if(x - i < 0 || y - i <0) {\n          break;\n        }\n        if (piece[y - i][x - i] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          break;\n        }\n      }\n      for (let i = 1; i < 6; i++) {\n        if(y + i > 18 || x + i > 18) {\n          break;\n        }\n        if (piece[y + i][x + i] == player) {\n          win++;\n          if (win >= 4) {\n            document.querySelector(\".game-result\").classList.remove(\"hidden\");\n            setGameResult(player);\n            win = 0;\n            break;\n          }\n        } else {\n          win = 0;\n          break;\n        }\n      }\n    },\n    [player, piece]\n  );\n  \n  // -----------------------------------------------------------------------------------\n\n  const handleResetPiece = useCallback(() => {\n    setPiece(Array(19).fill(Array(19).fill(\"\")));\n    document.querySelector(\".game-result\").classList.add(\"hidden\");\n    setGameResult(\"\");\n  }, []);\n\n  const MemoBoard = memo(Board);\n\n  return (\n    <div className=\"all\">\n      <FunctionBtn\n        player={player}\n        handleResetPiece={handleResetPiece}\n        gameResult={gameResult}\n      />\n      <div className=\"board-piece\">\n        {piece.map((array, y) =>\n          array.map((value, x) => {\n            return (\n              <MemoBoard\n                gameResult={gameResult}\n                judge={judge}\n                piece={piece}\n                pieceStyle={piece[y][x]}\n                handleChangePlayer={handleChangePlayer}\n                updateBoard={updateBoard}\n                player={player}\n                x={x}\n                y={y}\n              />\n            );\n          })\n        )}\n      </div>\n\n      <div className=\"board-background\">\n        {board.map((array) => array.map(() => <MemoBoard />))}\n      </div>\n    </div>\n  );\n}\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App/App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}